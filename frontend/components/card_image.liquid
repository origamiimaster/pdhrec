{% comment %}
  This code creates the image for a particular card.
  Variables:
  - imgs: A list of images, either 1 or 2 of them to render.
  - names: The name of the card or cards?
  - text: The text to include with the images.
  - synergy: The score to put in the attribute synergy.
  - popularity: The score to put in the attribute popularity.
{% endcomment %}
<!-- {{ imgs }} -->
<!-- {{ names }} -->
<!-- {{ text }} -->
<!-- {{ synergy }} -->
<!-- {{ popularity }} -->
<!-- {{ price }} -->
<!-- {{ sku }} -->

{% if imgs.length == 1 %}
  <a
    class="gallery-item"
    synergy="{{synergy}}"
    popularity="{{popularity}}">
    <img
      loading="lazy"
      alt="{{names | escape}}"
      src="{{imgs[0]}}">
    <div class="card-price" onclick="window.open('https://tcgplayer.pxf.io/c/5127700/1830156/21018?u={{ 'https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F' | concat: sku | escape }}','_blank');">
      {% assign price_split = price | round: 2 | split: "." %}{% assign integral = price_split[0] %}{% assign fractional = price_split[1] | append: "00" | truncate: 2, "" %}
      {% comment %} <a href="https://tcgplayer.pxf.io/c/5127700/1830156/21018?u={{ "https%3A%2F%2Fwww.tcgplayer.com%2Fproduct%2F" | concat: sku | escape }}"> {% endcomment %}
        <svg aria-hidden="true" class="tcgplayerlogo" focusable="false" version="1.1" viewBox="0 0 10.399999 12" width="10.4" xmlns="http://www.w3.org/2000/svg"><path d="m4.22 0.8h-2.5536c-0.4496 0-0.8 0.3576-0.8 0.8v8.8c0 0.4424 0.3584 0.8 0.8 0.8h7.0672c0.4496 0 0.8-0.3576 0.8-0.8v-8.8c9e-7 -0.4424-0.3584-0.8-0.8-0.8h-1.4896l0.5472 2.52c0.025596 0.0768-0.00804 0.14-0.1008 0.188-0.0672 0.0352-0.1472 0.0528-0.24 0.0528-0.041604 0-0.072 0-0.092796-4e-3l-2.2712 0.9552 0.656 3.2432c0.020004 0.051204 0.00804 0.099204-0.036 0.144-0.0432 0.044796-0.1096 0.075204-0.1968 0.0912-0.051996 0.00636-0.087996 0.0096-0.108 0.0096-0.1496 0-0.2584-0.039996-0.3256-0.12l-2.444-3.9624c-0.056-0.0776-0.0384-0.148 0.0544-0.212 0.0776-0.048 0.1648-0.072 0.264-0.072 0.02 0 0.0504 0.0032 0.092 0.0096l2.1968-1.128-1.02-1.7152zm-4.22 0.005604c0-0.4456 0.3576-0.8056 0.8-0.8056h8.8c0.4424 0 0.8 0.36 0.8 0.8056v10.389c0 0.4456-0.3576 0.8056-0.8 0.8056h-8.8c-0.4424 0-0.8-0.36-0.8-0.8056z" fill-rule="evenodd" stroke-width=".8"></path></svg>
        ${{ integral }}.{{ fractional }}
        {% comment %} </a> {% endcomment %}
        </div>
        <div class="info">{{ text }}</div>
  </a>

{% elsif imgs.length == 2 %}
  <a
    class="gallery-item"
    synergy="{{synergy}}"
    popularity="{{popularity}}">
    <div class="partners">
      <div style="position: relative;">
        <img
          alt="spacer"
          src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASoAAAGfCAQAAABCNFdiAAAC4UlEQVR42u3SQREAAAzCsOHf9EzwI5HQaw7KIgGmwlSYCkyFqTAVmApTYSowFabCVGAqTIWpwFSYClNhKjAVpsJUYCpMhanAVJgKU4GpMBWmAlNhKkyFqcBUmApTgakwFaYCU2EqTAWmwlSYCkyFqTAVmApTYSpMBabCVJgKTIWpMBWYClNhKjAVpsJUYCpMhakwFZgKU2EqMBWmwlRgKkyFqcBUmApTgakwFabCVBJgKkyFqcBUmApTgakwFaYCU2EqTAWmwlSYCkyFqTAVpgJTYSpMBabCVJgKTIWpMBWYClNhKjAVpsJUmApMhakwFZgKU2EqMBWmwlRgKkyFqcBUmApTgakwFabCVGAqTIWpwFSYClOBqTAVpgJTYSpMBabCVJgKU4GpMBWmAlNhKkwFpsJUmApMhakwFZgKU2EqTCUBpsJUmApMhakwFZgKU2EqMBWmwlRgKkyFqcBUmApTYSowFabCVGAqTIWpwFSYClOBqTAVpgJTYSpMhanAVJgKU4GpMBWmAlNhKkwFpsJUmApMhakwFZgKU2EqTAWmwlSYCkyFqTAVmApTYSowFabCVGAqTIWpMBWYClNhKjAVpsJUYCpMhanAVJgKU4GpMBWmwlQSYCpMhanAVJgKU4GpMBWmAlNhKkwFpsJUmApMhakwFaYCU2EqTAWmwlSYCkyFqTAVmApTYSowFabCVJgKTIWpMBWYClNhKjAVpsJUYCpMhanAVJgKU4GpMBWmwlRgKkyFqcBUmApTgakwFaYCU2EqTAWmwlSYClOBqTAVpgJTYSpMBabCVJgKTIWpMBWYClNhKkwlAabCVJgKTIWpMBWYClNhKjAVpsJUYCpMhanAVJgKU2EqMBWmwlRgKkyFqcBUmApTgakwFaYCU2EqTIWpwFSYClOBqTAVpgJTYSpMBabCVJgKTIWpMBWYClNhKkwFpsJUmApMhakwFZgKU2EqMBWmwlRgKkyFqRj2SwUBoCOf66IAAAAASUVORK5CYII="
          class="partner3"
          style="position: relative;">
        <img
          loading="lazy"
          alt="{{names | escape }}"
          class="partner1"
          src="{{imgs[0]}}"
          data-src="{{imgs[0]}}">
        <img
          loading="lazy"
          alt="{{names | escape }}"
          class="partner2"
          src="{{imgs[1]}}"
          data-src="{{imgs[1]}}">
      </div>
      {% comment %} <div class="info">{{ text }}</div> {% endcomment %}
      <div class="info" style="position: relative;">{{ text }}</div>
    </div>
  </a>
{% else %}
  <a class="gallery-item">
    <img
      loading="lazy"
      alt="{{Error}}"
      src="{{'https://cards.scryfall.io/large/front/7/6/76ac5b70-47db-4cdb-91e7-e5c18c42e516.jpg?1562558297'}}">
    <div class="info">
      Something went wrong with this image.
    </div>
  </a>
{% endif %}